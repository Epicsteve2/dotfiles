#!/bin/bash

if [[ -z "$1" ]]; then
    echo >&2 "No argument supplied"
    exit 1
fi

case "$1" in
'a')
    if [[ $(xprop -id "$(xdotool getactivewindow)" WM_CLASS | awk '{print $4}' | sed "s/\"//g") = 'ever17pc_us.exe' ]]; then
        # xdotool key F1
        xdotool mousedown 3
        sleep 0.025
        xdotool mouseup 3
        sleep 0.025
        xdotool \
            key --delay=25 Up \
            key --delay=25 Up \
            key --delay=25 Up \
            key --delay=25 Up \
            key --delay=25 Up \
            key --delay=25 Up \
            key --delay=25 Up \
            key --delay=25 Up \
            key --delay=25 Up \
            key --delay=250 Right \
            key --delay=25 Down \
            key --delay=25 Down \
            key --delay=25 Return

    else
        xdotool key a
    fi
    ;;
's')
    if [[ $(xprop -id "$(xdotool getactivewindow)" WM_CLASS | awk '{print $4}' | sed "s/\"//g") = 'ever17pc_us.exe' ]]; then
        xdotool key F6
    else
        xdotool key s
    fi
    ;;
'f')
    if [[ $(xprop -id "$(xdotool getactivewindow)" WM_CLASS | awk '{print $4}' | sed "s/\"//g") = 'ever17pc_us.exe' ]]; then
        xdotool key F3
    else
        xdotool key f
    fi
    ;;
'l')
    if [[ $(xprop -id "$(xdotool getactivewindow)" WM_CLASS | awk '{print $4}' | sed "s/\"//g") = 'ever17pc_us.exe' ]]; then
        xdotool key F7
    else
        xdotool key l
    fi
    ;;

'c')
    if [[ $(xprop -id "$(xdotool getactivewindow)" WM_CLASS | awk '{print $4}' | sed "s/\"//g") = 'ever17pc_us.exe' ]]; then
        xdotool key F2
    else
        xdotool key c
    fi
    ;;

'o')
    if [[ $(xprop -id "$(xdotool getactivewindow)" WM_CLASS | awk '{print $4}' | sed "s/\"//g") = 'ever17pc_us.exe' ]]; then
        xdotool key F8
    else
        xdotool key o
    fi
    ;;

*)
    echo >&2 "Not a valid key..."
    exit 1
    ;;
esac
